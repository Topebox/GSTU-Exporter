/* * * * * *
 * Author: QuocNT
 * Email: ntq.quoc@gmail.com
* * * * * */

using System;
using QNT.SimpleJSON;
using UnityEngine;

namespace QNT.GSTU.Extension
{
    public enum <SheetName>Key
    {
        <ListKey>
    }

    public static class <SheetName>Container
    {
        private static string[] _listText;
        private static int _maxLength;

        public static void LoadText(string language)
        {
            var fileName = "";
            switch (language)
            {
                <ListLanguage>
            }

            try
            {
                var jsonString = (Resources.Load($"LocalizedText/{fileName}") as TextAsset)?.text;
                var nodes = JSON.Parse(jsonString);
                var texts = (JSONArray) nodes[language];
                _maxLength = texts.Count;
                _listText = new string[_maxLength];

                var i = 0;
                foreach (var text in texts)
                {
                    _listText[i] = text.Value;
                    i++;
                }
            }
            catch (Exception e)
            {
                Debug.LogError($"<qnt> <SheetName> can not load json file: {fileName} => err: {e}");
            }
        }

        public static string GetText(<SheetName>Key key)
        {
            try
            {
                if ((int) key < _maxLength)
                {
                    return _listText[(int) key];
                }
            }
            catch (Exception e)
            {
                Debug.LogError($"<qnt> <SheetName> not exits key: {key} => err: {e}");
            }

            return key.ToString();
        }
    }
}